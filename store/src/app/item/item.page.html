<ion-header class="ion-no-border">
  <ion-toolbar color="light">
    <ion-buttons slot="start">
<ion-menu-button></ion-menu-button>
</ion-buttons>
    <ion-title >
      ຂໍ້ມູນສິນຄ້າ
    </ion-title>

    <ion-buttons style="margin-right: 10px;" slot="end" (click)="add()">
      <ion-icon slot="icon-only" name="add"></ion-icon>
    </ion-buttons>

  </ion-toolbar>
</ion-header>
<ion-content *ngIf="_3apps_data">

<!-- <div style="height: 80px;background-color:#f4f5f8">
&nbsp;
</div> -->

<div style="border-radius: 30px 30px 0px 0px;background-color: white">
<!-- <br> -->
<div style="background-color: white;padding: 10px 10px">

  <ion-segment [(ngModel)]="ap" scrollable>
  <ion-segment-button value="0">
   ສິນຄ້າທັງໝົດ 
  </ion-segment-button>
  
  <ion-segment-button value="{{ cate.name }}" *ngFor="let cate of _3apps_data.productType">
   {{cate.name}}
  </ion-segment-button>
  
  </ion-segment>
  
  </div>

  <div [ngSwitch]="ap">

    <div *ngSwitchCase="0">
    <ion-card mode="ios" style="background-color: white;" *ngFor="let item of _3apps_data.rows">
    
    <ion-card-content>
    
    <ion-row>
    <ion-col size="3"><img [src]="getImagePath(item?.image[0])" style="width: 80%;margin-left: 10%"></ion-col>
    <ion-col size="7">{{ item.name }} 
    <br>
    <ion-text style="font-size: smaller;" color="medium">{{getcolor_size(item)}}</ion-text> 
    <br>
    <a style="color:red" (click)="edit(item)"> ແກ້ໄຂຂໍ້ມູນ </a>
    
    </ion-col>
    <ion-col size="2" 
    ><ion-toggle color="success" mode="ios" [(ngModel)]="item.isActive" (click)="changeStatus(item)"></ion-toggle></ion-col>
    <!-- <ion-col size="2" *ngIf="item.isActive == false"><ion-toggle color="success" mode="ios"  (ionChange)="changeStatus(item.id,1)"></ion-toggle></ion-col> -->
    </ion-row>
    
    </ion-card-content>
    
    </ion-card>
    </div>
    
    <span *ngFor="let c of _3apps_data.productType">
      <div *ngSwitchCase="c.name">
      <span *ngFor="let item of _3apps_data.rows"> 
      <ion-card mode="ios" *ngIf="item.productTypes == c.name">
    
    <ion-card-content>
    
      <ion-row>
        <ion-col size="3"><img [src]="getImagePath(item?.image[0])" style="width: 80%;margin-left: 10%"></ion-col>
        <ion-col size="7">{{ item.name }}
        <br>
        <ion-text style="font-size: smaller;" color="medium">{{getcolor_size(item)}}</ion-text> 
        <br>
        <a style="color:red" (click)="edit(item)"> ແກ້ໄຂຂໍ້ມູນ </a>
        </ion-col>
        <ion-col size="2"><ion-toggle color="success" mode="ios" [(ngModel)]="item.isActive" (click)="changeStatus(item)"></ion-toggle></ion-col>

        <!-- <ion-col size="2" *ngIf="item.isActive == true"><ion-toggle color="success" mode="ios" (ionChange)="changeStatus(item.id,false)"></ion-toggle></ion-col>
        <ion-col size="2" *ngIf="item.isActive == false"><ion-toggle color="success" mode="ios" checked="true" (ionChange)="changeStatus(item.id,true)"></ion-toggle></ion-col> -->
        </ion-row>
        
        </ion-card-content>
        
        </ion-card>
        </span>
        </div>
    </span>
        
        </div>

<!-- ========================================================================== UP IS TEST -->
<!-- <div style="background-color: white;padding: 10px 10px">

<ion-segment [(ngModel)]="pet" scrollable>
<ion-segment-button value="0">
 ສິນຄ້າທັງໝົດ 
</ion-segment-button>

<ion-segment-button value="{{ cate.id }}" *ngFor="let cate of data.cate">
 {{cate.name}}
</ion-segment-button>

</ion-segment>

</div>




<div [ngSwitch]="pet">

<div *ngSwitchCase="0">
<ion-card mode="ios" style="background-color: white;" *ngFor="let item of data.item">

<ion-card-content>

<ion-row>
<ion-col size="3"><img src="{{ item.img?apiServer+item.img :''}}" style="width: 80%;margin-left: 10%"></ion-col>
<ion-col size="7">{{ item.name }} 
<br>
<a style="color:red" (click)="edit(item)"> ແກ້ໄຂຂໍ້ມູນ </a>

</ion-col>
<ion-col size="2" *ngIf="item.status == 1"><ion-toggle color="success" mode="ios" (ionChange)="changeStatus(item.id,0)"></ion-toggle></ion-col>
<ion-col size="2" *ngIf="item.status == 0"><ion-toggle color="success" mode="ios" checked="true" (ionChange)="changeStatus(item.id,1)"></ion-toggle></ion-col>
</ion-row>

</ion-card-content>

</ion-card>
</div>

<span *ngFor="let c of data.cate">
  <div *ngSwitchCase="c.id">
  <span *ngFor="let item of data.item">
  <ion-card mode="ios" *ngIf="item.cate_id == c.id">

<ion-card-content>

  <ion-row>
    <ion-col size="3"><img src="{{item.img ? apiServer+item.img:'' }}" style="width: 80%;margin-left: 10%"></ion-col>
    <ion-col size="7">{{ item.name }}
    <br>
    <a style="color:red" (click)="edit(item)">ແກ້ໄຂຂໍ້ມູນ</a>
    </ion-col>
    <ion-col size="2" *ngIf="item.status == 1"><ion-toggle color="success" mode="ios" (ionChange)="changeStatus(item.id,0)"></ion-toggle></ion-col>
    <ion-col size="2" *ngIf="item.status == 0"><ion-toggle color="success" mode="ios" checked="true" (ionChange)="changeStatus(item.id,1)"></ion-toggle></ion-col>
    </ion-row>
    
    </ion-card-content>
    
    </ion-card>
    </span>
    </div>
</span>
    
    </div> -->
    </div>
    </ion-content>